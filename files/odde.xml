<domain type='kvm' id='2'>
    <name>oode</name>
    <uuid>{uuid}</uuid>
    <metadata>
      <libosinfo:libosinfo xmlns:libosinfo="http://libosinfo.org/xmlns/libvirt/domain/1.0">
        <libosinfo:os id="http://ubuntu.com/ubuntu/24.04"/>
      </libosinfo:libosinfo>
    </metadata>
    <memory unit='GiB'>{memory_gib}</memory>
    <currentMemory unit='GiB'>{memory_gib}</currentMemory>
    <vcpu placement='static'>{vcpus}</vcpu>
    <os firmware='efi'>
      <type arch='x86_64' machine='q35'>hvm</type>
      <firmware>
        <feature enabled='yes' name='enrolled-keys'/>
        <feature enabled='yes' name='secure-boot'/>
      </firmware>
      <loader readonly='yes' secure='yes' type='pflash'>{ovmf_code}</loader>
      <nvram template='{ovmf_vars}'>{nvram_path}</nvram>
      <boot dev='hd'/>
    </os>
    <features>
      <acpi/>
      <apic/>
      <smm state='on'/>
    </features>
    <cpu mode='host-passthrough' check='none' migratable='off'/>
    <clock offset='utc'>
      <timer name='rtc' tickpolicy='catchup'/>
      <timer name='pit' tickpolicy='delay'/>
      <timer name='hpet' present='no'/>
    </clock>
    <pm>
      <suspend-to-mem enabled='no'/>
      <suspend-to-disk enabled='no'/>
    </pm>
    <devices>
      <emulator>/usr/bin/qemu-system-x86_64</emulator>
      <disk type='file' device='disk'>
        <driver name='qemu' type='qcow2'/>
        <source file='{vm_image_path}' index='2'/>
        <backingStore/>
        <target dev='vda' bus='virtio'/>
        <alias name='virtio-disk0'/>
        <address type='pci' domain='0x0000' bus='0x04' slot='0x00' function='0x0'/>
      </disk>
      <disk type='file' device='disk'>
        <source file='{cidata_image_path}'/>
        <target dev='vdb' bus='virtio'/>
      </disk>
      <interface type='user'>
        <mac address='{mac_address}'/>
        <model type='virtio'/>
        <alias name='eth0'/>
        <address type='pci' domain='0x0000' bus='0x01' slot='0x00' function='0x0'/>
      </interface>
      <serial type='pty'>
        <source path='/dev/pts/1'/>
        <target type='isa-serial' port='0'>
          <model name='isa-serial'/>
        </target>
        <alias name='serial0'/>
      </serial>
      <console type='pty' tty='/dev/pts/1'>
        <source path='/dev/pts/1'/>
        <target type='serial' port='0'/>
        <alias name='serial0'/>
      </console>
      <tpm model='tpm-crb'>
        <backend type='emulator' version='2.0'/>
        <alias name='tpm0'/>
      </tpm>
      <audio id='1' type='none'/>
      <memballoon model='virtio'>
        <alias name='balloon0'/>
        <address type='pci' domain='0x0000' bus='0x05' slot='0x00' function='0x0'/>
      </memballoon>
      <rng model='virtio'>
        <backend model='random'>/dev/urandom</backend>
        <alias name='rng0'/>
        <address type='pci' domain='0x0000' bus='0x06' slot='0x00' function='0x0'/>
      </rng>
    </devices>
  </domain>